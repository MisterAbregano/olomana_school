<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mr. Abregano‚Äôs Classroom</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <style>
    :root {
      --bg: #f5f0e6;
      --card-bg: #fff;
      --accent: #00695c;
      --text: #222;
      --ticker-bg: #111;
      --ticker-color: #fff;
    }
    html, body {
      margin:0; padding:0;
      background: var(--bg);
      font-family: Georgia, serif;
      color: var(--text);
    }
    .ticker {
      position: fixed; top:0; left:0; right:0;
      background: var(--ticker-bg);
      color: var(--ticker-color);
      height: 2.5rem; display: flex; align-items: center;
      overflow: hidden; padding: 0 1rem; z-index:1000;
    }
    .ticker span {
      display: inline-block; padding: 0 2rem;
      white-space: nowrap;
      animation: scroll 20s linear infinite;
    }
    @keyframes scroll {
      from { transform: translateX(100%); }
      to   { transform: translateX(-100%); }
    }
    .container { display: flex; gap:2rem; max-width:1200px; margin:4rem auto 2rem; padding:0 1rem; }
    .column { flex:1; }
    .section {
      background: var(--card-bg);
      padding:1.5rem;
      border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
      margin-bottom:2rem;
    }
    .section h2 {
      margin-top:0; color: var(--accent);
      font-size:1.5rem; display:flex; align-items:center; gap:.5rem;
    }
    .button-link {
      display:inline-block; background:var(--accent);
      color:#fff; padding:.6rem 1rem; margin:.5rem .5rem 0 0;
      text-decoration:none; border-radius:4px; font-size:.95rem;
    }
    .button-link.disabled { background:#999; cursor:default; }
    .vision-image-wrapper {
      border:4px solid;
      border-image-slice:1;
      border-image-source: linear-gradient(45deg, gold, darkgoldenrod);
      display:inline-block; border-radius:8px;
    }
    .vision-image-wrapper img {
      display:block; max-width:100%; height:auto; border-radius:4px;
    }
    .social-iframe, .pixelfed-box {
      border:4px solid; border-image-slice:1; margin-top:1rem;
    }
    .social-iframe {
      border-image-source: linear-gradient(to right, orange, magenta);
      width:100%; height:300px;
    }
    .pixelfed-box {
      border-image-source: linear-gradient(to right, teal, cyan);
      text-align:center; padding:1rem;
    }
    .pixelfed-box img {
      max-width:200px; display:block; margin:0 auto;
    }
    .profile {
      display:flex; gap:1rem; align-items:flex-start;
    }
    .profile img {
      width:120px; border-radius:50%;
      box-shadow:0 2px 6px rgba(0,0,0,0.2);
    }
    .profile .bio-text {
      flex:1; font-size:.95rem; line-height:1.5;
    }
  </style>
</head>
<body>

  <!-- ‚îÄ‚îÄ‚îÄ TOP TICKER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="ticker" id="events-ticker">
    <span>Loading upcoming events &amp; weather‚Ä¶</span>
  </div>

  <div class="container">

    <!-- LEFT COLUMN -->
    <div class="column">

      <!-- ‚ñ∂ Our Vision -->
   <div class="section">
  <h2>(‚úø^‚Äø^) to Mr. A's Classroom ‡ºº „Å§ ‚óï‚Äø‚óï ‡ºΩ„Å§</h2>
  <div class="vision-image-wrapper">‚Ä¶</div>
</div>
          <!-- make sure this file is in your repo root -->
          <img src="OlomanaVision.jpg" alt="Olomana School Vision">
        </div>
      </div>

      <!-- ‚ñ∂ Zoom Conference Hub -->
      <div class="section">
        <h2>üìπ Zoom Conference Hub</h2>
        <p><em>By appointment only</em></p>
        <p>
          <a href="https://zoom.us/client/latest/ZoomInstaller.exe" target="_blank" class="button-link">üíª Download Zoom (PC)</a>
          <a href="#" class="button-link">üì± Get Zoom (Mobile)</a>
          <a href="#" class="button-link disabled">üìÖ Schedule (Coming Soon)</a>
        </p>
        <p style="font-size:.9em;">
          If you‚Äôre a student or guardian, email <a href="mailto:ryan.abregano@k12.hi.us"><strong>Mr. A‚Äôs</strong></a> to request access.
        </p>
      </div>

    </div>

    <!-- RIGHT COLUMN -->
    <div class="column">

      <!-- ‚ñ∂ Social Feeds -->
      <div class="section">
        <h2>üì∏ Social Feeds</h2>
        <iframe
          class="social-iframe"
          src="https://www.instagram.com/olomanaschool/embed"
          allowtransparency="true">
        </iframe>
      </div>

      <!-- ‚ñ∂ Pixelfed -->
      <div class="section">
        <h2>üåê Pixelfed</h2>
        <div class="pixelfed-box">
          <a href="https://pixelfed.social/register" target="_blank">
            <img src="pixelfed-logo.svg" alt="Pixelfed Logo">
            <div>Sign up on Pixelfed</div>
          </a>
        </div>
      </div>

      <!-- ‚ñ∂ Profile & Bio -->
      <div class="section profile">
        <!-- ensure this file matches your upload -->
        <img src="IMG_0041.jpg" alt="Ryan Abregano">
        <div class="bio-text">
          <h3>Ryan Abregano</h3>
          <p>
            I am a passionate cultural educator and practitioner of Native Hawaiian perspectives. Currently, I serve as an Educational Assistant III at Olomana School in Hawai ªi, supporting students with disabilities. My aim is to support students and help develop ways to generate income for cultural work, alongside my growing interest in coding, web development, and technology.
          </p>
        </div>
      </div>

    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ EVENTS + WEATHER TICKER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <script src="https://cdn.jsdelivr.net/npm/ical.js@2.2.0/build/ical.min.js"></script>
  <script>
    const ICS_URL = './olomana_calendar.ics';
    const WTTR_URL = 'https://wttr.in/Waimanalo?format=j1';

    async function updateTicker() {
      const now = new Date();
      const in30 = new Date(Date.now() + 30*24*60*60*1000);

      // 1) ICS Events
      let events = [];
      try {
        const text = await fetch(ICS_URL).then(r=>r.text());
        const data = ICAL.parse(text);
        const comp = new ICAL.Component(data);
        events = comp.getAllSubcomponents('vevent')
          .map(c=>new ICAL.Event(c))
          .filter(ev=>{
            const d = ev.startDate.toJSDate();
            return d >= now && d <= in30;
          })
          .sort((a,b)=>a.startDate.toJSDate() - b.startDate.toJSDate())
          .slice(0,5)
          .map(ev=>{
            const d = ev.startDate.toJSDate();
            return `${d.toLocaleDateString('en-US',{month:'short',day:'numeric'})}: ${ev.summary}`;
          });
      } catch(e){ console.warn(e) }

      // 2) Weather
      let weather = [];
      try {
        const j = await fetch(WTTR_URL).then(r=>r.json());
        weather = j.weather.slice(0,3).map(day=>{
          const d = new Date(day.date);
          const lbl = d.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'});
          return `${lbl} ‚Äì H${day.maxtempF}¬∞ L${day.mintempF}¬∞`;
        });
      } catch(e){ console.warn(e) }

      // 3) Render
      const items = [...events, ...weather];
      const bar = document.getElementById('events-ticker');
      bar.innerHTML = items.map(t=>`<span>${t}</span>`).join('');
    }

    updateTicker();
    setInterval(updateTicker, 60_000);
  </script>

  <!-- ‚îÄ‚îÄ‚îÄ HIDDEN YOUTUBE PLAYER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="yt-player"></div>
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    function onYouTubeIframeAPIReady() {
      new YT.Player('yt-player', {
        height:'0', width:'0',
        videoId:'HOK74BGCYXM',
        playerVars:{ autoplay:1, loop:1, playlist:'HOK74BGCYXM', controls:0, modestbranding:1, rel:0 },
        events:{ onReady: e=>{ e.target.setVolume(10); e.target.playVideo(); } }
      });
    }
  </script>

</body>
</html>
